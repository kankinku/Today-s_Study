## 1) 왜 AGENTS.md가 “망가지는가”

AGENTS.md 같은 에이전트 지침 파일은 보통 시간이 지나면서 이렇게 망가져:

- 규칙이 계속 추가되며 **중복**이 쌓임
    
- 사람마다 다른 스타일을 넣어서 **충돌(모순)**이 생김
    
- “깔끔한 코드”, “최선을 다해” 같은 **추상 규칙**이 늘어남
    
- 중요한 정보(빌드/테스트/패키지 매니저)가 **잡음에 묻힘**
    
- “모든 상황에 적용”하려다 **너무 길고 복잡해짐**
    

결과: 에이전트가 읽어도 “뭘 우선해야 하는지”가 불명확해져서 사실상 무력화됨.

---

## 2) 점진적 공개(Progressive Disclosure)의 핵심 원리

점진적 공개는 한마디로:

> “항상 필요한 최소 정보만 맨 위에 두고, 나머지는 필요할 때 찾아보게 링크로 분리한다.”

AGENTS.md에 적용하면 이렇게 돼:

- 루트 AGENTS.md = **부팅(boot) 문서**
    
    - 이 레포가 뭐고
        
    - 뭘로 빌드/테스트하고
        
    - 작업할 때 절대 깨면 안 되는 핵심 규칙 몇 개
        
    - - 자세한 규칙 링크
            
- docs/ 이하 = **매뉴얼(참조 문서)**
    
    - TS 규칙, API 설계, 테스트 패턴 등 “상황에 따라 필요한 것”
        

이렇게 나누면 “처음부터 과부하로 망하는 현상”이 없어져.

---

## 3) 복구 프로세스의 원리 (당신이 쓴 1~5단계가 왜 맞는지)

### (1) 모순 찾기 = “우선순위 시스템 복원”

에이전트 문서는 “규칙의 충돌”이 생기는 순간 신뢰를 잃어.

예를 들어:

- “커밋 전에 반드시 테스트” vs “급하면 테스트 생략 가능”
    
- “절대 any 금지” vs “마이그레이션 중에는 any 허용”
    

이게 같이 있으면 에이전트는 **어느 쪽이 우선인지 결정할 근거가 없음.**  
그래서 1단계는 “문서의 논리적 일관성”을 회복하는 작업이야.

✅ 핵심 원리: **충돌하는 규칙이 1개라도 있으면 문서는 실행 불가능해진다.**

---

### (2) 필수 요소만 남기기 = “부팅 가능하게 만들기”

AGENTS.md의 루트는 “사람이든 에이전트든 첫 실행 때 필요한 것”만 있어야 해.

필수 정보는 실제로 딱 이런 것뿐임:

- 이 프로젝트가 뭔지 (1문장)
    
- 패키지 매니저 / 런타임
    
- 빌드/테스트/타입체크 명령어
    
- 공통 핵심 규칙(예: 절대 main 직접 푸시 금지, secret 금지 등)
    

✅ 핵심 원리: **처음 읽는 사람이 ‘첫 행동’을 할 수 있는가?**

- install → typecheck/test → run  
    이게 가능한 정보만 남기는 거.
    

---

### (3) 나머지 그룹화 = “검색 가능한 형태로 재구성”

지시사항이 많아지는 건 자연스러운데,  
문제를 만드는 건 “한 파일에 뒤섞여 있는 것”이야.

그래서 카테고리로 분리하면:

- 필요한 순간에 그 파일만 보면 됨
    
- 규칙이 어디에 있는지 고정됨(찾기 쉬움)
    
- 중복이 줄고 유지보수가 쉬워짐
    

✅ 핵심 원리: **문서의 구조는 ‘읽는 순서’가 아니라 ‘찾는 방식’으로 설계한다.**

---

### (4) 파일 구조 생성 = “유지보수 가능하게 만들기”

여기서 중요한 건 문서 분리 자체보다:

- 루트에는 링크만 남고
    
- 세부 규칙은 책임 영역별로 나뉘고
    
- 새로운 규칙은 “어디에 추가해야 할지” 명확해진다는 점
    

✅ 핵심 원리:  
**규칙 추가 비용을 낮추면, 문서가 다시 망가질 확률도 낮아진다.**

---

### (5) 삭제 대상 표시 = “잡음 제거(Noise Reduction)”

에이전트에게 “당연한 말 / 모호한 말”은 실제로 해롭다.

왜냐하면:

- 실행 가능한 지시가 아니라서 도움이 안 됨
    
- 중요한 규칙의 비중을 낮춤
    
- 서로 다르게 해석될 여지가 커짐
    

예:

- ❌ “좋은 코드를 작성하라”
    
- ✅ “새 유틸 함수는 반드시 단위 테스트를 추가한다”
    

✅ 핵심 원리: **문서는 ‘훈계’가 아니라 ‘행동 지침’이어야 한다.**

---

## 4) “회복”의 본질은 사실 이 2가지야

AGENTS.md가 회복됐다는 뜻은:

1. **결정 불능 상태가 없다**
    
    - 모순 제거 / 우선순위 명확
        
2. **에이전트가 첫 행동을 바로 할 수 있다**
    
    - install / test / build / run이 명시됨
        
    - 핵심 규칙이 짧고 강함
        

이 두 개만 만족하면 “문서는 살아있는 상태”가 돼.

---

## 5) 좋은 AGENTS.md의 체크리스트 (진짜 핵심만)

루트 AGENTS.md는 아래 질문에 “바로 답”할 수 있어야 해:

- 이 프로젝트는 뭐야? (1문장)
    
- 설치/실행은 어떻게 해?
    
- 타입체크/테스트/빌드는 뭐로 해?
    
- 절대 깨면 안 되는 규칙 3~7개는 뭐야?
    
- 나머지 규칙은 어디에서 찾아봐?
    

이걸 만족하면 이미 점진적 공개 설계가 된 거고, 망가지기 어려워져.